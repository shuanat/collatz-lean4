# –î–µ—Ç–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –ø–æ–º–æ—â–∏ —ç–∫—Å–ø–µ—Ä—Ç–∞: Collatz/Cylinders.lean

**–î–∞—Ç–∞:** 02 –æ–∫—Ç—è–±—Ä—è 2025  
**–í—Ä–µ–º—è:** 12:00 UTC

## üìã –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–±–ª–µ–º—ã

–§–∞–π–ª `Collatz/Cylinders.lean` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é 2-adic —Ü–∏–ª–∏–Ω–¥—Ä–æ–≤ –¥–ª—è –≥–∏–ø–æ—Ç–µ–∑—ã –ö–æ–ª–ª–∞—Ç—Ü–∞, –Ω–æ –Ω–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –∏–∑-–∑–∞ –æ—à–∏–±–æ–∫ —Ç–∏–ø–æ–≤ –∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞. –¢—Ä–µ–±—É–µ—Ç—Å—è —ç–∫—Å–ø–µ—Ä—Ç–Ω–∞—è –ø–æ–º–æ—â—å –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. **–û—à–∏–±–∫–∞ —Ç–∏–ø–æ–≤ –≤ `cylinder_coverage` (—Å—Ç—Ä–æ–∫–∞ 57)**
```lean
error: Type mismatch
  ‚Ñì
has type
  ‚Ñï
but is expected to have type
  Set ‚Ñï
```

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
```lean
theorem cylinder_coverage :
  { m : ‚Ñï | Odd m } = ‚ãÉ ‚Ñì, C_ell ‚Ñì := by
  ext m
  constructor
  ¬∑ intro hm_odd
    set ‚Ñì := (3 * m + 1).factorization 2 with h‚Ñì_def
    use ‚Ñì  -- ‚Üê –û–®–ò–ë–ö–ê –ó–î–ï–°–¨
    exact ‚ü®hm_odd, h‚Ñì_def‚ü©
```

**–í–æ–ø—Ä–æ—Å:** –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `use` —Ç–∞–∫—Ç–∏–∫—É –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞ `‚Ñì` –≤ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–∏ `‚ãÉ ‚Ñì, C_ell ‚Ñì`?

### 2. **–û—à–∏–±–∫–∞ –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏ (—Å—Ç—Ä–æ–∫–∞ 60)**
```lean
error: Type mismatch
  hm_in_C.left
has type
  ‚Ñì ‚àà Set.range fun ‚Ñì => C_ell ‚Ñì
but is expected to have type
  m ‚àà {m | Odd m}
```

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
```lean
  ¬∑ intro ‚ü®‚Ñì, hm_in_C‚ü©
    exact hm_in_C.1  -- ‚Üê –û–®–ò–ë–ö–ê –ó–î–ï–°–¨
```

**–í–æ–ø—Ä–æ—Å:** –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å `‚ü®‚Ñì, hm_in_C‚ü©` –∏–∑ `m ‚àà ‚ãÉ ‚Ñì, C_ell ‚Ñì`? –û–∂–∏–¥–∞–µ—Ç—Å—è, —á—Ç–æ `hm_in_C : m ‚àà C_ell ‚Ñì`, –Ω–æ –ø–æ–ª—É—á–∞–µ—Ç—Å—è `hm_in_C : ‚Ñì ‚àà Set.range fun ‚Ñì => C_ell ‚Ñì`.

### 3. **–°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ —Å –∏—Ç–µ—Ä–∞—Ü–∏—è–º–∏ (—Å—Ç—Ä–æ–∫–∞ 32)**
```lean
error: unexpected token '('; expected ')', ',' or ':'
```

**–ö–æ–Ω—Ç–µ–∫—Å—Ç:**
```lean
lemma depth_run_starts (m ‚Ñì : ‚Ñï) (hm_odd : Odd m) :
  m ‚àà C_ell ‚Ñì ‚Üî
  (‚àÄ i : ‚Ñï, i < ‚Ñì ‚Üí ŒΩ‚ÇÇ(T_odd^[i] m) = ‚Ñì - i) ‚àß  -- ‚Üê –û–®–ò–ë–ö–ê –ó–î–ï–°–¨
  (‚Ñì = 0 ‚à® ŒΩ‚ÇÇ(T_odd^[‚Ñì] m) < ‚Ñì) := by
```

**–í–æ–ø—Ä–æ—Å:** –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å –∏—Ç–µ—Ä–∞—Ü–∏—é —Ñ—É–Ω–∫—Ü–∏–∏ `T_odd` –≤ Lean 4? –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å `T_odd^[i]` –∏–ª–∏ –¥—Ä—É–≥–æ–π?

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
```lean
def C_ell (‚Ñì : ‚Ñï) : Set ‚Ñï :=
  { m : ‚Ñï | Odd m ‚àß (3 * m + 1).factorization 2 = ‚Ñì }
```

### –ò–º–ø–æ—Ä—Ç—ã
```lean
import Mathlib.Data.Nat.ModEq
import Mathlib.Data.Nat.Factorization.Defs
import Mathlib.Data.Nat.Basic
import Mathlib.Algebra.Ring.Parity
import Collatz.Basic
import Collatz.Arithmetic
import Collatz.Coordinates
```

### –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º–µ–Ω
```lean
namespace Collatz.Cylinders
open Collatz
open Collatz.Arithmetic
open Collatz.Coordinates
```

## üéØ –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã —ç–∫—Å–ø–µ—Ä—Ç—É

1. **–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏ –º–Ω–æ–∂–µ—Å—Ç–≤ –≤ Lean 4?**
   - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è `‚ãÉ ‚Ñì, C_ell ‚Ñì`
   - –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `use` —Ç–∞–∫—Ç–∏–∫—É –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞
   - –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è

2. **–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π –≤ Lean 4?**
   - –°–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è `f^[n]` vs `f^n`
   - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã –¥–ª—è `Function.iterate`
   - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –∑–∞–ø–∏—Å–∏ –∏—Ç–µ—Ä–∞—Ü–∏–π

3. **–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ç–∏–ø–∞–º–∏ –≤ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞—Ö?**
   - –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `Set ‚Ñï` –∏ `‚Ñï` –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–π
   - –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è —Å–ª–æ–∂–Ω—ã—Ö —Ç–∏–ø–æ–≤
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `ext` —Ç–∞–∫—Ç–∏–∫–∏ –¥–ª—è —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ –º–Ω–æ–∂–µ—Å—Ç–≤

## üìä –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

- **Lean –≤–µ—Ä—Å–∏—è**: 4.24.0-rc1
- **Mathlib**: –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: `Collatz.Basic`, `Collatz.Arithmetic`, `Collatz.Coordinates` –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è
- **–û—à–∏–±–∫–∏**: 3 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è**: 2 `sorry` (–æ–∂–∏–¥–∞–µ–º–æ)

## üéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ù—É–∂–µ–Ω —Ä–∞–±–æ—á–∏–π –∫–æ–¥ –¥–ª—è `theorem cylinder_coverage`, –∫–æ—Ç–æ—Ä—ã–π:
1. –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `use` —Ç–∞–∫—Ç–∏–∫—É
2. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è
3. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è –∏—Ç–µ—Ä–∞—Ü–∏–π —Ñ—É–Ω–∫—Ü–∏–π
4. –ö–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ —Ç–∏–ø–æ–≤

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–§–∞–π–ª —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é —Ñ–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –≥–∏–ø–æ—Ç–µ–∑—ã –ö–æ–ª–ª–∞—Ç—Ü–∞ –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç:
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ 2-adic —Ü–∏–ª–∏–Ω–¥—Ä–æ–≤ `C_ell`
- –•–∞—Ä–∞–∫—Ç–µ—Ä–∏–∑–∞—Ü–∏—é depth runs
- –°–≤–æ–π—Å—Ç–≤–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π —Ü–∏–ª–∏–Ω–¥—Ä–æ–≤
- –°–≤—è–∑—å —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í—ã—Å–æ–∫–∏–π (–±–ª–æ–∫–∏—Ä—É–µ—Ç –∫–æ–º–ø–∏–ª—è—Ü–∏—é –≤—Å–µ–≥–æ –º–æ–¥—É–ª—è)

---

*–ó–∞–ø—Ä–æ—Å –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω: 02 –æ–∫—Ç—è–±—Ä—è 2025, 12:00 UTC*
